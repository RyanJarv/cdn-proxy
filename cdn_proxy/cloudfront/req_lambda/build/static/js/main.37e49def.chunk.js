(this["webpackJsonpcode-sandbox-examples"]=this["webpackJsonpcode-sandbox-examples"]||[]).push([[0],{116:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),o=s(19),c=s.n(o),i=(s(69),s(31)),a=s(12),l=s(45),d=s(119),h=s(121),j=s(117),u=s(20),b=(s(75),s(2)),x=function(){return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(u.a,{className:"title d-flex align-items-center pb-3 mb-5 border-bottom",children:Object(b.jsxs)("a",{href:"/",className:"d-flex align-items-center text-dark text-decoration-none",children:[Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"32",className:"me-2",viewBox:"0 0 118 94",role:"img",children:[Object(b.jsx)("title",{children:"CDN Proxy Help"}),Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z",fill:"currentColor"})]}),Object(b.jsx)("span",{className:"fs-4",children:"CDN Proxy Help"})]})}),Object(b.jsx)("h3",{children:"Headers"}),Object(b.jsxs)("dl",{className:"row",children:[Object(b.jsx)("dt",{className:"col-sm-3",children:"Cdn-Proxy-Origin"}),Object(b.jsxs)("dd",{className:"col-sm-9",children:[Object(b.jsx)("p",{children:"The origin the request should be routed to after passing through CloudFront."}),Object(b.jsx)("p",{children:"This header is Required. If you are seeing this page it is because this header was not included in the request to CloudFront."}),Object(b.jsxs)("p",{children:["You can set this to a hostname or an IP, however because CloudFront only supports hostnames for origins any IP will be replaced with the equivalent domain using ",Object(b.jsx)("a",{href:"https://sslip.io",children:"sslip.io"}),"."]})]}),Object(b.jsx)("dt",{className:"col-sm-3",children:"Cdn-Proxy-Host"}),Object(b.jsxs)("dd",{className:"col-sm-9",children:[Object(b.jsx)("p",{children:"Value of the Host header in the request to the origin."}),Object(b.jsx)("p",{children:"This header is optional but recommended. If not set it will default to the value of Cdn-Proxy-Origin."})]}),Object(b.jsx)("dt",{className:"col-sm-3",children:"X-Forwarded-For"}),Object(b.jsxs)("dd",{className:"col-sm-9",children:[Object(b.jsx)("p",{children:"Passed through to the origin if set (like most other non-listed headers)."}),Object(b.jsx)("p",{children:"If this header is not set it defaults to a randomized IP address in the request to the origin. This allows for bypassing IP based rate limiting in the backend in some cases."}),Object(b.jsx)("p",{children:"You may also want to try setting this to trusted values such as 127.0.0.1 or another internal IP address to expose any administrative or debug pages restricted by IP in the web application (compared to restrictions enforced in CloudFront/WAF, which will already be disabled when using this proxy)."}),Object(b.jsx)("p",{children:"Multiple caching proxies are sometimes used in front of the origin, say CloudFront routes to Varnish which routes to nginx. In cases like this, where you are using the nginx service as the origin, you may need to set the target IP you want to add multiple IPs to this header with the one you want to spoof on the far left (example: X-Forwarded-For: 127.0.0.1, 172.32.10.10). It's also possible the second IP here needs to be a trusted IP on the internal network of the origin."})]})]}),Object(b.jsx)("hr",{className:"col-3 col-md-2 mb-5"}),Object(b.jsx)("h3",{children:"Examples"}),Object(b.jsxs)("dl",{className:"row",children:[Object(b.jsx)("dt",{className:"col-sm-3",children:"Curl -- No Host Header"}),Object(b.jsxs)("dd",{className:"col-sm-9",children:[Object(b.jsx)("p",{children:"Here we are simply forwarding to the public ifconfig.me service after the request passes through CloudFront. The IP returned will be the source IP our request made from the CloudFront network. We don't need to set Cdn-Proxy-Host because ifconfig.me responds the same regardless of what the host header is set to."}),Object(b.jsx)("pre",{children:Object(b.jsx)("code",{className:"example",children:"curl -H 'Cdn-Proxy-Origin: ifconfig.me' -H 'Cdn-Proxy-Host: ifconfig.me' XXXXXXXXXXXXX.cloudfront.net"})})]}),Object(b.jsx)("dt",{className:"col-sm-3",children:"Curl -- EC2 Origin"}),Object(b.jsxs)("dd",{className:"col-sm-9",children:[Object(b.jsx)("p",{children:"More likely you'll be running something like this, where Cdn-Proxy-Origin is a specific backend server and Cdn-Proxy-Host is the domain name of the website it is running. If Cdn-Proxy-Host is not set correctly you may not be able to reach the site, but this depends on the server configuration."}),Object(b.jsx)("pre",{children:Object(b.jsx)("code",{className:"example",children:"curl -H 'Cdn-Proxy-Origin: ec2-XX-XX-XX-XX.us-west-2.compute.amazonaws.com' -H 'Cdn-Proxy-Host: example.com' XXXXXXXXXXXXX.cloudfront.net"})})]})]})]})},m=s(32),O=s(25),g=s(120),p=s(60),f=s(118),y=s(17),v=s(24),w=s(47),C=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Object(y.a)(this,e),this.hostnames=void 0,this.cdnProxy=void 0,this.cdnProxy=t,s.length>1)throw new Error("Using more then one hostname is not supported currently!");this.hostnames=s}return Object(v.a)(e,[{key:"cdnRequest",value:function(e){var t="?cdn-proxy-origin="+e;return this.hostnames.length>0?t+="&cdn-proxy-host="+this.hostnames[0]:t+="&cdn-proxy-host="+e,fetch(this.cdnProxy+t,{redirect:"manual"})}},{key:"scan",value:function(e,t,s){var n,r=Object(m.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.cdnRequest(o).then(t,s)}}catch(c){r.e(c)}finally{r.f()}}}]),e}();var X=s(59),P=s.n(X),H=[{dataField:"origin",text:"Origin"},{dataField:"result",text:"Result"}];var I=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),s=t[0],r=t[1],o=Object(n.useState)(new C(window.location.protocol+"//"+window.location.hostname)),c=Object(O.a)(o,1)[0],i=Object(n.useState)([]),a=Object(O.a)(i,2),l=a[0],d=a[1];return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(g.a,{children:Object(b.jsxs)(j.a,{children:[Object(b.jsx)(p.a,{sm:1,children:Object(b.jsx)(f.a,{variant:"primary",type:"submit",onClick:function(){var e,t=Object(m.a)(function(e){for(var t=new w.a(e),s=Number(t.startAddress().bigInteger()),n=Number(t.endAddress().bigInteger())-s,r=[],o=0;o<=n;o++)r.push(w.a.fromInteger(s+o).correctForm());return r}(s));try{var n=function(){var t=e.value;c.cdnRequest(t).then((function(e){console.log("got successful response from "+t),console.log(e),d((function(s){var n=s.slice();return n.push({id:l.length,origin:t,result:e.status.toString()}),n}))}),(function(e){console.log("got error response from "+t),console.log(e),d((function(e){var s=e.slice();return s.push({id:l.length,origin:t,result:"request failed"}),s}))}))};for(t.s();!(e=t.n()).done;)n()}catch(r){t.e(r)}finally{t.f()}},children:"Submit"})}),Object(b.jsx)(p.a,{sm:4,children:Object(b.jsxs)(g.a.Group,{children:[Object(b.jsx)(g.a.Control,{type:"text",placeholder:"IP CIDR",onChange:function(e){r(e.currentTarget.value)}}),Object(b.jsx)(g.a.Text,{children:"Enter the IP range to scan in CIDR notation."})]})})]})}),Object(b.jsx)(j.a,{children:Object(b.jsx)(p.a,{sm:12,children:Object(b.jsx)(P.a,{keyField:"id",data:l,columns:H})})})]})},N=function(e){return Object(b.jsx)(d.a,{bg:"light",expand:"lg",children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a.Brand,{href:"#home",children:e.name}),Object(b.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(h.a,{className:"me-auto",children:[Object(b.jsx)(l.LinkContainer,{to:"/",children:Object(b.jsx)(h.a.Link,{children:"Home"})}),Object(b.jsx)(l.LinkContainer,{to:"/scanner",children:Object(b.jsx)(h.a.Link,{children:"Scanner"})})]})})]})})},k=function(){return Object(b.jsx)(i.HashRouter,{children:Object(b.jsxs)(a.g,{children:[Object(b.jsxs)(a.d,{path:"/scanner",children:[Object(b.jsx)(j.a,{children:Object(b.jsx)(N,{name:"Scanner"})}),Object(b.jsx)(j.a,{children:Object(b.jsx)(I,{})})]}),Object(b.jsxs)(a.d,{path:"/",children:[Object(b.jsx)(j.a,{children:Object(b.jsx)(N,{name:"Home"})}),Object(b.jsx)(j.a,{children:Object(b.jsx)(x,{})})]})]})})},F=function(){return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(k,{}),Object(b.jsx)("footer",{className:"pt-5 my-5 text-muted border-top",children:"Created by the RhinoSecurityLabs team \xb7 \xa9 2021"})]})};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root"))},69:function(e,t,s){},75:function(e,t,s){}},[[116,1,2]]]);
//# sourceMappingURL=main.37e49def.chunk.js.map